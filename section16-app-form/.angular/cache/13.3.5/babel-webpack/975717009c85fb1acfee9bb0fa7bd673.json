{"ast":null,"code":"import _classCallCheck from \"E:\\\\Coding\\\\Angular\\\\section16-app-form\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"E:\\\\Coding\\\\Angular\\\\section16-app-form\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { __decorate, __metadata } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nimport { Ingredient } from '../../shared/ingredient.model';\nimport { ShoppingListService } from '../shopping-list.service';\nimport { NgForm } from \"@angular/forms\";\n\nvar ShoppingEditComponent = /*#__PURE__*/function () {\n  function ShoppingEditComponent(slService) {\n    _classCallCheck(this, ShoppingEditComponent);\n\n    this.slService = slService;\n    this.editMode = false;\n  }\n\n  _createClass(ShoppingEditComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var _this = this;\n\n      this.subscription = this.slService.startedEditing.subscribe(function (index) {\n        _this.editedItemIndex = index;\n        _this.editMode = true;\n        _this.editedItem = _this.slService.getIngredient(index);\n\n        _this.slForm.setValue({\n          name: _this.editedItem.name,\n          amount: _this.editedItem.amount\n        });\n      });\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(form) {\n      var value = form.value; // const ingName = this.nameInputRef.nativeElement.value;\n      // const ingAmount = this.amountInputRef.nativeElement.value;\n\n      var newIngredient = new Ingredient(value.name, value.amount);\n\n      if (this.editMode) {\n        this.slService.updateIngredient(this.editedItemIndex, newIngredient);\n      } else {\n        this.slService.addIngredient(newIngredient);\n      }\n\n      this.editMode = false;\n      form.reset();\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.subscription.unsubscribe();\n    }\n  }]);\n\n  return ShoppingEditComponent;\n}();\n\n__decorate([ViewChild('f', {\n  static: false\n}), __metadata(\"design:type\", NgForm)], ShoppingEditComponent.prototype, \"slForm\", void 0);\n\nShoppingEditComponent = __decorate([Component({\n  selector: 'app-shopping-edit',\n  templateUrl: './shopping-edit.component.html',\n  styleUrls: ['./shopping-edit.component.css']\n}), __metadata(\"design:paramtypes\", [ShoppingListService])], ShoppingEditComponent);\nexport { ShoppingEditComponent };","map":null,"metadata":{},"sourceType":"module"}